(function (){ function h(a){throw a;}
var k=void 0,l=!0,m=null,p=!1,s="",aa="\n",u=" ",ba='"',ca='", ',da='","groups":["reactions"]},"labels":[',ea='","groups":["reactions"]},{"url": "',fa='"}],"applicationId":34}',ga="$$$$",ha="(",ia="(\\d*)(\\D*)",ja=")",ka="*",la=".",ma="0",na=": ",oa="@",pa="An object listener must have handleEvent method.",qa="Assertion failed",ra="Content-Type",sa="Event target is not initialized. Did you call superclass (goog.events.EventTarget) constructor?",ta="GET",ua="Listener can not be null.",va="MSXML2.XMLHTTP",
wa="MSXML2.XMLHTTP.3.0",xa="MSXML2.XMLHTTP.6.0",ya="Microsoft.XMLHTTP",za="POST",Aa="[object Array]",Ba="[object Function]",Ca="[object Window]",Da="]",Ea=']}],"applicationId":34}&token=',Fa="_",Ga="a",Ha="abort",Ia="application/x-www-form-urlencoded;charset=utf-8",v="array",Ja="call",Ka="click",La="complete",Ma="content-type",Na="error",Oa="event",x="function",Pa="g",Qa="http://www.blogger.com/reviews/json/aggregates",Ra="http://www.blogger.com/reviews/json/token",Sa="http://www.blogger.com/reviews/json/write",
Ta="infinite loop",Ua="innerText",Va="keypress",Wa="mouseout",Xa="mouseover",Ya="native code",Za="null",$a="number",ab="object",bb="on",cb="ready",db="readystatechange",eb='req={"annotations": [ {"replaceAllLabels":true,"entity": {"url": "',fb='req={"applicationId":34}',gb='req={"entities":[{"url": "',hb="rx-checked",ib="rx-count",jb="rx-holder",kb="rx-label",lb="rx-option",mb="rx-unchecked",nb="span",ob="splice",pb="string",qb="success",rb="timeout",sb="var ",tb="window",ub="withCredentials",y,vb=
vb||{},z=this,wb=function(a,b,c){a=a.split(la);c=c||z;!(a[0]in c)&&c.execScript&&c.execScript(sb+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&b!==k?c[d]=b:c=c[d]?c[d]:c[d]={}},xb=function(){},A=function(a){var b=typeof a;if(b==ab)if(a){if(a instanceof Array)return v;if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c==Ca)return ab;if(c==Aa||typeof a.length==$a&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(ob))return v;
if(c==Ba||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(Ja))return x}else return Za;else if(b==x&&"undefined"==typeof a.call)return ab;return b},B=function(a){var b=A(a);return b==v||b==ab&&typeof a.length==$a},C=function(a){return typeof a==pb},D=function(a){return a[yb]||(a[yb]=++zb)},yb="closure_uid_"+(1E9*Math.random()>>>0),zb=0,Ab=function(a,b,c){return a.call.apply(a.bind,arguments)},Bb=function(a,b,c){a||h(Error());if(2<arguments.length){var d=
Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},E=function(a,b,c){E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(Ya)?Ab:Bb;return E.apply(m,arguments)},Cb=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,
b)}},G=function(a,b){function c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=new c};Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return E.apply(m,c)}return E(this,a)};Function.prototype.partial=function(a){var b=Array.prototype.slice.call(arguments);b.unshift(this,m);return E.apply(m,b)};var Db=function(a){Error.captureStackTrace?Error.captureStackTrace(this,Db):this.stack=Error().stack||s;a&&(this.message=String(a))};G(Db,Error);var Eb=function(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,ga);a=a.replace(/\%s/,d)}return a};var Fb=function(a,b){b.unshift(a);Db.call(this,Eb.apply(m,b));b.shift()};G(Fb,Db);var H=function(a,b,c){if(!a){var d=Array.prototype.slice.call(arguments,2),e=qa;if(b)var e=e+(na+b),f=d;h(new Fb(s+e,f||[]))}return a};var I=Array.prototype,J=I.indexOf?function(a,b,c){H(a.length!=m);return I.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(C(a))return!C(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Gb=I.forEach?function(a,b,c){H(a.length!=m);I.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=C(a)?a.split(s):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Hb=I.filter?function(a,b,c){H(a.length!=m);return I.filter.call(a,b,c)}:function(a,
b,c){for(var d=a.length,e=[],f=0,g=C(a)?a.split(s):a,n=0;n<d;n++)if(n in g){var q=g[n];b.call(c,q,n,a)&&(e[f++]=q)}return e},Ib=function(a,b,c){t:{for(var d=a.length,e=C(a)?a.split(s):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a)){b=f;break t}b=-1}return 0>b?m:C(a)?a.charAt(b):a[b]},Kb=function(a,b){var c=J(a,b),d;(d=0<=c)&&Jb(a,c);return d},Jb=function(a,b){H(a.length!=m);return 1==I.splice.call(a,b,1).length},Lb=function(a,b,c){H(a.length!=m);return 2>=arguments.length?I.slice.call(a,b):I.slice.call(a,
b,c)};var Mb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Nb=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},Ob=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},Pb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Qb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Pb.length;f++)c=Pb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Rb=function(a){Rb[u](a);return a};Rb[u]=xb;var K,Sb,Tb,Ub,Vb=function(){return z.navigator?z.navigator.userAgent:m};Ub=Tb=Sb=K=p;var Wb;if(Wb=Vb()){var Xb=z.navigator;K=0==Wb.indexOf("Opera");Sb=!K&&-1!=Wb.indexOf("MSIE");Tb=!K&&-1!=Wb.indexOf("WebKit");Ub=!K&&!Tb&&"Gecko"==Xb.product}var Yb=K,L=Sb,M=Ub,N=Tb,Zb=function(){var a=z.document;return a?a.documentMode:k},$b;
t:{var ac=s,O;if(Yb&&z.opera)var bc=z.opera.version,ac=typeof bc==x?bc():bc;else if(M?O=/rv\:([^\);]+)(\)|;)/:L?O=/MSIE\s+([^\);]+)(\)|;)/:N&&(O=/WebKit\/(\S+)/),O)var cc=O.exec(Vb()),ac=cc?cc[1]:s;if(L){var dc=Zb();if(dc>parseFloat(ac)){$b=String(dc);break t}}$b=ac}
var ec=$b,fc={},P=function(a){var b;if(!(b=fc[a])){b=0;for(var c=String(ec).replace(/^[\s\xa0]+|[\s\xa0]+$/g,s).split(la),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,s).split(la),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||s,n=d[f]||s,q=RegExp(ia,Pa),t=RegExp(ia,Pa);do{var r=q.exec(g)||[s,s,s],w=t.exec(n)||[s,s,s];if(0==r[0].length&&0==w[0].length)break;b=((0==r[1].length?0:parseInt(r[1],10))<(0==w[1].length?0:parseInt(w[1],10))?-1:(0==r[1].length?0:parseInt(r[1],10))>(0==w[1].length?
0:parseInt(w[1],10))?1:0)||((0==r[2].length)<(0==w[2].length)?-1:(0==r[2].length)>(0==w[2].length)?1:0)||(r[2]<w[2]?-1:r[2]>w[2]?1:0)}while(0==b)}b=fc[a]=0<=b}return b},gc=z.document,hc=!gc||!L?k:Zb()||("CSS1Compat"==gc.compatMode?parseInt(ec,10):5);var ic=!L||L&&9<=hc,jc=L&&!P("9");!N||P("528");M&&P("1.9b")||L&&P("8")||Yb&&P("9.5")||N&&P("528");M&&!P("8")||L&&P("9");var kc=function(){};kc.prototype.disposed_=p;kc.prototype.dispose=function(){this.disposed_||(this.disposed_=l,this.disposeInternal())};kc.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()};var Q=function(a,b){this.type=a;this.currentTarget=this.target=b};y=Q.prototype;y.disposeInternal=function(){};y.dispose=function(){};y.propagationStopped_=p;y.defaultPrevented=p;y.returnValue_=l;y.preventDefault=function(){this.defaultPrevented=l;this.returnValue_=p};var R=function(a,b){a&&this.init(a,b)};G(R,Q);y=R.prototype;y.target=m;y.relatedTarget=m;y.offsetX=0;y.offsetY=0;y.clientX=0;y.clientY=0;y.screenX=0;y.screenY=0;y.button=0;y.keyCode=0;y.charCode=0;y.ctrlKey=p;y.altKey=p;y.shiftKey=p;y.metaKey=p;y.event_=m;
y.init=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(M){var e;t:{try{Rb(d.nodeName);e=l;break t}catch(f){}e=p}e||(d=m)}}else c==Xa?d=a.fromElement:c==Wa&&(d=a.toElement);this.relatedTarget=d;this.offsetX=N||a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=N||a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c==Va?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.event_=a;a.defaultPrevented&&this.preventDefault();delete this.propagationStopped_};
y.preventDefault=function(){R.superClass_.preventDefault.call(this);var a=this.event_;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,jc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};y.disposeInternal=function(){};var lc="closure_listenable_"+(1E6*Math.random()|0),S=function(a){return!(!a||!a[lc])},mc=0;var nc=function(a,b,c,d,e,f){this.listener=a;this.proxy=b;this.src=c;this.type=d;this.capture=!!e;this.handler=f;this.key=++mc;this.removed=this.callOnce=p};nc.prototype.markAsRemoved=function(){this.removed=l;this.handler=this.src=this.proxy=this.listener=m};var T={},U={},V={},W={},X=function(a,b,c,d,e){if(A(b)==v){for(var f=0;f<b.length;f++)X(a,b[f],c,d,e);return m}c=oc(c);return S(a)?a.listen(b,c,d,e):pc(a,b,c,p,d,e)},pc=function(a,b,c,d,e,f){b||h(Error("Invalid event type"));e=!!e;var g=U;b in g||(g[b]={count_:0,remaining_:0});g=g[b];e in g||(g[e]={count_:0,remaining_:0},g.count_++);var g=g[e],n=D(a),q;g.remaining_++;if(g[n]){q=g[n];for(var t=0;t<q.length;t++)if(g=q[t],g.listener==c&&g.handler==f){if(g.removed)break;d||(q[t].callOnce=p);return q[t]}}else q=
g[n]=[],g.count_++;t=qc();g=new nc(c,t,a,b,e,f);g.callOnce=d;t.src=a;t.listener=g;q.push(g);V[n]||(V[n]=[]);V[n].push(g);a.addEventListener?a.addEventListener(b,t,e):a.attachEvent(b in W?W[b]:W[b]=bb+b,t);return T[g.key]=g},qc=function(){var a=rc,b=ic?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},sc=function(a,b,c,d,e){if(A(b)==v){for(var f=0;f<b.length;f++)sc(a,b[f],c,d,e);return m}c=oc(c);return S(a)?a.listenOnce(b,c,d,e):pc(a,
b,c,l,d,e)},tc=function(a,b,c,d,e){if(A(b)==v){for(var f=0;f<b.length;f++)tc(a,b[f],c,d,e);return m}c=oc(c);if(S(a))return a.unlisten(b,c,d,e);d=!!d;t:{f=U;if(b in f&&(f=f[b],d in f&&(f=f[d],a=D(a),f[a]))){a=f[a];break t}a=m}if(!a)return p;for(f=0;f<a.length;f++)if(a[f].listener==c&&a[f].capture==d&&a[f].handler==e)return uc(a[f]);return p},uc=function(a){if(typeof a==$a||!a||a.removed)return p;var b=a.src;if(S(b))return b.unlistenByKey(a);var c=a.type,d=a.proxy,e=a.capture;b.removeEventListener?
b.removeEventListener(c,d,e):b.detachEvent&&b.detachEvent(c in W?W[c]:W[c]=bb+c,d);b=D(b);V[b]&&(d=V[b],Kb(d,a),0==d.length&&delete V[b]);a.markAsRemoved();if(d=U[c][e][b])d.needsCleanup_=l,vc(c,e,b,d);delete T[a.key];return l},vc=function(a,b,c,d){if(!d.locked_&&d.needsCleanup_){for(var e=0,f=0;e<d.length;e++)d[e].removed||(e!=f&&(d[f]=d[e]),f++);d.length=f;d.needsCleanup_=p;0==f&&(delete U[a][b][c],U[a][b].count_--,0==U[a][b].count_&&(delete U[a][b],U[a].count_--),0==U[a].count_&&delete U[a])}},
wc=function(a,b){var c=0,d=b==m;if(a!=m){if(a&&S(a))return a.removeAllListeners(b);var e=D(a);if(V[e])for(var e=V[e],f=e.length-1;0<=f;f--){var g=e[f];if(d||b==g.type)uc(g),c++}}else Mb(T,function(a){uc(a);c++});return c},yc=function(a,b,c,d,e){var f=1;b=D(b);if(a[b]){var g=--a.remaining_,n=a[b];n.locked_?n.locked_++:n.locked_=1;try{for(var q=n.length,t=0;t<q;t++){var r=n[t];r&&!r.removed&&(f&=xc(r,e)!==p)}}finally{a.remaining_=Math.max(g,a.remaining_),n.locked_--,vc(c,d,b,n)}}return Boolean(f)},
xc=function(a,b){var c=a.listener,d=a.handler||a.src;a.callOnce&&uc(a);return c.call(d,b)},rc=function(a,b){if(a.removed)return l;var c=a.type,d=U;if(!(c in d))return l;var d=d[c],e,f;if(!ic){var g;if(!(g=b))t:{g=[tb,Oa];for(var n=z;e=g.shift();)if(n[e]!=m)n=n[e];else{g=m;break t}g=n}e=g;g=l in d;n=p in d;if(g){if(0>e.keyCode||e.returnValue!=k)return l;t:{var q=p;if(0==e.keyCode)try{e.keyCode=-1;break t}catch(t){q=l}if(q||e.returnValue==k)e.returnValue=l}}q=new R;q.init(e,this);e=l;try{if(g){for(var r=
[],w=q.currentTarget;w;w=w.parentNode)r.push(w);f=d[l];f.remaining_=f.count_;for(var F=r.length-1;!q.propagationStopped_&&0<=F&&f.remaining_;F--)q.currentTarget=r[F],e&=yc(f,r[F],c,l,q);if(n){f=d[p];f.remaining_=f.count_;for(F=0;!q.propagationStopped_&&F<r.length&&f.remaining_;F++)q.currentTarget=r[F],e&=yc(f,r[F],c,p,q)}}else e=xc(a,q)}finally{r&&(r.length=0)}return e}c=new R(b,this);return e=xc(a,c)},zc="__closure_events_fn_"+(1E9*Math.random()>>>0),oc=function(a){H(a,ua);if(A(a)==x)return a;H(a.handleEvent,
pa);return a[zc]||(a[zc]=function(b){return a.handleEvent(b)})};var Y=function(){this.eventTargetListeners_={};this.actualEventTarget_=this};G(Y,kc);Y.prototype[lc]=l;y=Y.prototype;y.parentEventTarget_=m;y.addEventListener=function(a,b,c,d){X(this,a,b,c,d)};y.removeEventListener=function(a,b,c,d){tc(this,a,b,c,d)};
y.dispatchEvent=function(a){this.assertInitialized_();var b,c=this.parentEventTarget_;if(c){b=[];for(var d=1;c;c=c.parentEventTarget_)b.push(c),H(1E3>++d,Ta)}c=this.actualEventTarget_;d=a.type||a;if(C(a))a=new Q(a,c);else if(a instanceof Q)a.target=a.target||c;else{var e=a;a=new Q(d,c);Qb(a,e)}var e=l,f;if(b)for(var g=b.length-1;!a.propagationStopped_&&0<=g;g--)f=a.currentTarget=b[g],e=f.fireListeners(d,l,a)&&e;a.propagationStopped_||(f=a.currentTarget=c,e=f.fireListeners(d,l,a)&&e,a.propagationStopped_||
(e=f.fireListeners(d,p,a)&&e));if(b)for(g=0;!a.propagationStopped_&&g<b.length;g++)f=a.currentTarget=b[g],e=f.fireListeners(d,p,a)&&e;return e};y.disposeInternal=function(){Y.superClass_.disposeInternal.call(this);this.removeAllListeners();this.parentEventTarget_=m};y.assertInitialized_=function(){H(this.eventTargetListeners_,sa)};y.listen=function(a,b,c,d){return this.listenInternal_(a,b,p,c,d)};y.listenOnce=function(a,b,c,d){return this.listenInternal_(a,b,l,c,d)};
y.listenInternal_=function(a,b,c,d,e){this.assertInitialized_();var f=this.eventTargetListeners_[a]||(this.eventTargetListeners_[a]=[]),g=Ac(f,b,d,e);if(-1<g)return a=f[g],c||(a.callOnce=p),a;a=new nc(b,m,this,a,!!d,e);a.callOnce=c;f.push(a);return a};y.unlisten=function(a,b,c,d){if(!(a in this.eventTargetListeners_))return p;a=this.eventTargetListeners_[a];b=Ac(a,b,c,d);return-1<b?(c=a[b],delete T[c.key],c.removed=l,Jb(a,b)):p};
y.unlistenByKey=function(a){var b=a.type;if(!(b in this.eventTargetListeners_))return p;if(b=Kb(this.eventTargetListeners_[b],a))delete T[a.key],a.removed=l;return b};y.removeAllListeners=function(a){var b=0,c;for(c in this.eventTargetListeners_)if(!a||c==a){for(var d=this.eventTargetListeners_[c],e=0;e<d.length;e++)++b,delete T[d[e].key],d[e].removed=l;d.length=0}return b};
y.fireListeners=function(a,b,c){if(!(a in this.eventTargetListeners_))return l;var d=l;a=this.eventTargetListeners_[a];var e=a.length;if(0<e){for(var f=Array(e),g=0;g<e;g++)f[g]=a[g];a=f}else a=[];for(e=0;e<a.length;++e)if((f=a[e])&&!f.removed&&f.capture==b){var g=f.listener,n=f.handler||f.src;f.callOnce&&this.unlistenByKey(f);d=g.call(n,c)!==p&&d}return d&&c.returnValue_!=p};var Ac=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var Bc=function(a,b){b.preventDefault();a(b);return p};var Cc=function(a){a=a.className;return C(a)&&a.match(/\S+/g)||[]},Dc=function(a,b){for(var c=Cc(a),d=Lb(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=J(f,d[g])||f.push(d[g]);a.className=c.join(u);return c.length==e},Fc=function(a,b){var c=Cc(a),d=Lb(arguments,1),e=Ec(c,d);a.className=e.join(u);return e.length==c.length-d.length},Ec=function(a,b){return Hb(a,function(a){return!(0<=J(b,a))})},Gc=function(a,b){var c=Cc(a);(c=!(0<=J(c,b)))?Dc(a,b):Fc(a,b);return c};!M&&!L||L&&L&&9<=hc||M&&P("1.9.1");var Hc=L&&!P("9");var Ic=function(a,b,c,d){a=d||a;b=b&&b!=ka?b.toUpperCase():s;if(a.querySelectorAll&&a.querySelector&&(b||c))return a.querySelectorAll(b+(c?la+c:s));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,g;g=a[f];f++)b==g.nodeName&&(d[e++]=g);d.length=e;return d}return a}a=a.getElementsByTagName(b||ka);if(c){d={};for(f=e=0;g=a[f];f++)b=g.className,typeof b.split==x&&0<=J(b.split(/\s+/),c)&&(d[e++]=g);d.length=e;return d}return a},Jc={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,
OBJECT:1},Kc={IMG:u,BR:aa},Mc=function(a){if(Hc&&Ua in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,aa);else{var b=[];Lc(a,b,l);a=b.join(s)}a=a.replace(/ \xAD /g,u).replace(/\xAD/g,s);a=a.replace(/\u200B/g,s);Hc||(a=a.replace(/ +/g,u));a!=u&&(a=a.replace(/^\s*/,s));return a},Lc=function(a,b,c){if(!(a.nodeName in Jc))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,s)):b.push(a.nodeValue);else if(a.nodeName in Kc)b.push(Kc[a.nodeName]);else for(a=a.firstChild;a;)Lc(a,b,c),a=a.nextSibling};var Nc="StopIteration"in z?z.StopIteration:Error("StopIteration"),Oc=function(){};Oc.prototype.next=function(){h(Nc)};Oc.prototype.__iterator__=function(){return this};
var Pc=function(a){if(a instanceof Oc)return a;if(typeof a.__iterator__==x)return a.__iterator__(p);if(B(a)){var b=0,c=new Oc;c.next=function(){for(;;){b>=a.length&&h(Nc);if(b in a)return a[b++];b++}};return c}h(Error("Not implemented"))},Qc=function(a,b,c){if(B(a))try{Gb(a,b,c)}catch(d){d!==Nc&&h(d)}else{a=Pc(a);try{for(;;)b.call(c,a.next(),k,a)}catch(e){e!==Nc&&h(e)}}};var Rc=function(a){if(typeof a.getValues==x)return a.getValues();if(C(a))return a.split(s);if(B(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Nb(a)},Sc=function(a,b,c){if(typeof a.forEach==x)a.forEach(b,c);else if(B(a)||C(a))Gb(a,b,c);else{var d;if(typeof a.getKeys==x)d=a.getKeys();else if(typeof a.getValues!=x)if(B(a)||C(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=Ob(a);else d=k;for(var e=Rc(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};var Tc=function(a,b){this.map_={};this.keys_=[];var c=arguments.length;if(1<c){c%2&&h(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};y=Tc.prototype;y.count_=0;y.version_=0;y.getValues=function(){this.cleanupKeysArray_();for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};y.getKeys=function(){this.cleanupKeysArray_();return this.keys_.concat()};
y.remove=function(a){return Object.prototype.hasOwnProperty.call(this.map_,a)?(delete this.map_[a],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),l):p};
y.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var a=0,b=0;a<this.keys_.length;){var c=this.keys_[a];Object.prototype.hasOwnProperty.call(this.map_,c)&&(this.keys_[b++]=c);a++}this.keys_.length=b}if(this.count_!=this.keys_.length){for(var d={},b=a=0;a<this.keys_.length;)c=this.keys_[a],Object.prototype.hasOwnProperty.call(d,c)||(this.keys_[b++]=c,d[c]=1),a++;this.keys_.length=b}};y.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.map_,a)?this.map_[a]:b};
y.set=function(a,b){Object.prototype.hasOwnProperty.call(this.map_,a)||(this.count_++,this.keys_.push(a),this.version_++);this.map_[a]=b};y.addAll=function(a){var b;a instanceof Tc?(b=a.getKeys(),a=a.getValues()):(b=Ob(a),a=Nb(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};y.clone=function(){return new Tc(this)};y.getKeyIterator=function(){return this.__iterator__(l)};
y.__iterator__=function(a){this.cleanupKeysArray_();var b=0,c=this.keys_,d=this.map_,e=this.version_,f=this,g=new Oc;g.next=function(){for(;;){e!=f.version_&&h(Error("The map has changed since the iterator was created"));b>=c.length&&h(Nc);var g=c[b++];return a?g:d[g]}};return g};var Uc=function(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,oa).replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Da).replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,s)))try{return eval(ha+a+ja)}catch(b){}h(Error("Invalid JSON string: "+a))};var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Wc=N,Xc=function(a,b){if(Wc){Wc=p;var c=z.location;if(c){var d=c.href;if(d&&(d=(d=Xc(3,d))&&decodeURIComponent(d))&&d!=c.hostname)Wc=l,h(Error())}}return b.match(Vc)[a]||m};var Yc=function(){};Yc.prototype.cachedOptions_=m;Yc.prototype.getOptions=function(){return this.cachedOptions_||(this.cachedOptions_=this.internalGetOptions())};var Zc,$c=function(){};G($c,Yc);$c.prototype.createInstance=function(){var a=this.getProgId_();return a?new ActiveXObject(a):new XMLHttpRequest};$c.prototype.internalGetOptions=function(){var a={};this.getProgId_()&&(a[0]=l,a[1]=l);return a};$c.prototype.getProgId_=function(){if(!this.ieProgId_&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var a=[xa,wa,va,ya],b=0;b<a.length;b++){var c=a[b];try{return new ActiveXObject(c),this.ieProgId_=c}catch(d){}}h(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return this.ieProgId_};
Zc=new $c;var Z=function(a){Y.call(this);this.headers=new Tc;this.xmlHttpFactory_=a||m;this.active_=p;this.xhrOptions_=this.xhr_=m;this.lastUri_=s;this.inAbort_=this.inOpen_=this.inSend_=this.errorDispatched_=p;this.timeoutInterval_=0;this.timeoutId_=m;this.responseType_=s;this.withCredentials_=p};G(Z,Y);
var ad=/^https?$/i,bd=[za,"PUT","DELETE"],cd=[],ed=function(a,b,c,d,e,f,g){var n=new Z;cd.push(n);b&&X(n,La,b);X(n,cb,Cb(dd,n));f&&n.setTimeoutInterval(f);g&&n.setWithCredentials(g);n.send(a,c,d,e)},dd=function(a){a.dispose();Kb(cd,a)};Z.prototype.setTimeoutInterval=function(a){this.timeoutInterval_=Math.max(0,a)};Z.prototype.setWithCredentials=function(a){this.withCredentials_=a};
Z.prototype.send=function(a,b,c,d){this.xhr_&&h(Error("[goog.net.XhrIo] Object is active with another request="+this.lastUri_+"; newUri="+a));b=b?b.toUpperCase():ta;this.lastUri_=a;this.errorDispatched_=p;this.active_=l;this.xhr_=this.createXhr();this.xhrOptions_=this.xmlHttpFactory_?this.xmlHttpFactory_.getOptions():Zc.getOptions();this.xhr_.onreadystatechange=E(this.onReadyStateChange_,this);try{this.inOpen_=l,this.xhr_.open(b,a,l),this.inOpen_=p}catch(e){this.error_(5,e);return}a=c||s;var f=this.headers.clone();
d&&Sc(d,function(a,b){f.set(b,a)});d=Ib(f.getKeys(),fd);c=z.FormData&&a instanceof z.FormData;0<=J(bd,b)&&(!d&&!c)&&f.set(ra,Ia);Sc(f,function(a,b){this.xhr_.setRequestHeader(b,a)},this);this.responseType_&&(this.xhr_.responseType=this.responseType_);ub in this.xhr_&&(this.xhr_.withCredentials=this.withCredentials_);try{this.timeoutId_&&(z.clearTimeout(this.timeoutId_),this.timeoutId_=m),0<this.timeoutInterval_&&(this.timeoutId_=z.setTimeout(E(this.timeout_,this),this.timeoutInterval_)),this.inSend_=
l,this.xhr_.send(a),this.inSend_=p}catch(g){this.error_(5,g)}};var fd=function(a){return Ma==a.toLowerCase()};y=Z.prototype;y.createXhr=function(){return this.xmlHttpFactory_?this.xmlHttpFactory_.createInstance():Zc.createInstance()};y.timeout_=function(){"undefined"!=typeof vb&&this.xhr_&&(this.dispatchEvent(rb),this.abort(8))};y.error_=function(){this.active_=p;this.xhr_&&(this.inAbort_=l,this.xhr_.abort(),this.inAbort_=p);this.dispatchErrors_();this.cleanUpXhr_()};
y.dispatchErrors_=function(){this.errorDispatched_||(this.errorDispatched_=l,this.dispatchEvent(La),this.dispatchEvent(Na))};y.abort=function(){this.xhr_&&this.active_&&(this.active_=p,this.inAbort_=l,this.xhr_.abort(),this.inAbort_=p,this.dispatchEvent(La),this.dispatchEvent(Ha),this.cleanUpXhr_())};y.disposeInternal=function(){this.xhr_&&(this.active_&&(this.active_=p,this.inAbort_=l,this.xhr_.abort(),this.inAbort_=p),this.cleanUpXhr_(l));Z.superClass_.disposeInternal.call(this)};
y.onReadyStateChange_=function(){if(!this.inOpen_&&!this.inSend_&&!this.inAbort_)this.onReadyStateChangeEntryPoint_();else this.onReadyStateChangeHelper_()};y.onReadyStateChangeEntryPoint_=function(){this.onReadyStateChangeHelper_()};
y.onReadyStateChangeHelper_=function(){if(this.active_&&"undefined"!=typeof vb&&(!this.xhrOptions_[1]||!(4==this.getReadyState()&&2==this.getStatus())))if(this.inSend_&&4==this.getReadyState())z.setTimeout(E(this.onReadyStateChange_,this),0);else if(this.dispatchEvent(db),this.isComplete()){this.active_=p;try{this.isSuccess()?(this.dispatchEvent(La),this.dispatchEvent(qb)):this.dispatchErrors_()}finally{this.cleanUpXhr_()}}};
y.cleanUpXhr_=function(a){if(this.xhr_){var b=this.xhr_,c=this.xhrOptions_[0]?xb:m;this.xhrOptions_=this.xhr_=m;this.timeoutId_&&(z.clearTimeout(this.timeoutId_),this.timeoutId_=m);a||this.dispatchEvent(cb);try{b.onreadystatechange=c}catch(d){}}};y.isComplete=function(){return 4==this.getReadyState()};y.isSuccess=function(){var a=this.getStatus(),b;t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:b=l;break t;default:b=p}return b||0===a&&!this.isLastUriEffectiveSchemeHttp_()};
y.isLastUriEffectiveSchemeHttp_=function(){var a=Xc(1,String(this.lastUri_));!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1));return ad.test(a?a.toLowerCase():s)};y.getReadyState=function(){return this.xhr_?this.xhr_.readyState:0};y.getStatus=function(){try{return 2<this.getReadyState()?this.xhr_.status:-1}catch(a){return-1}};y.getResponseJson=function(a){if(this.xhr_){var b=this.xhr_.responseText;a&&0==b.indexOf(a)&&(b=b.substring(a.length));return Uc(b)}};var gd=function(a,b){this.entityId_=encodeURIComponent(a);b?this.sender_=b:(this.sender_=Z,this.sender_.send=ed);this.writeToken_=s;this.options_={};this.counts_={};this.decodeLabel_={};this.selectedReactions_=new Tc};y=gd.prototype;
y.initialize=function(a){a=Ic(document,Ga,lb,document.getElementById(a));for(var b=0;b<a.length;b++){var c=a[b],d=Ic(document,nb,kb,c)[0],d=Mc(d);this.options_[d]=c;var e=this.encodeLabel_(d);this.decodeLabel_[e]=d;var e=c,f=E(this.toggle,this,d);X(e,Ka,Bc.partial(f));c=Ic(document,nb,ib,c)[0];this.counts_[d]=c;c.innerHTML=ma}a=E(this.displayRetrievedAnnotations_,this);b=E(this.disableOptions_,this);this.loadExistingReactions_(a,b)};y.setZipitToken_=function(a){this.writeToken_=a};
y.loadZipitToken_=function(a){var b=E(this.disableOptions_,this),c=E(this.setZipitToken_,this),d=E(this.toggle,this);this.sender_.send(Ra,function(){if(this.isSuccess()){var e=this.getResponseJson();c(e.channelHeader.token);a&&d(a)}else b()},za,fb)};y.loadExistingReactions_=function(a,b){this.sender_.send(Qa,function(){this.isSuccess()?a(this.getResponseJson()):b()},za,gb+this.entityId_+ea+this.entityId_+fa)};
y.displayRetrievedAnnotations_=function(a){if(a.entityAggregates)for(var b=0;b<a.entityAggregates.length;b++){var c=p;if(c=a.entityAggregates[b].labels)for(var d=0;d<c.length;d++){var e=this.counts_[this.decodeLabel_[c[d].label]];if(e){var f=parseInt(Mc(e),10);isNaN(f)&&(f=0);e.innerHTML=f+parseInt(c[d].count,10)}}}};y.encodeLabel_=function(a){a=a.replace(/([^A-Za-z ])/g,function(a){return Fa+a.charCodeAt(0)});return a=a.replace(/([A-Z])/g,function(a){return Fa+a.toLowerCase()})};
y.disableOptions_=function(){for(var a=Ic(document,Ga,lb,document.getElementById(jb)),b=0;b<a.length;b++){var c=a[b];c.style.borderColor=m;wc(c)}};
y.toggle=function(a){if(this.writeToken_==s)this.loadZipitToken_(a);else{if(this.selectedReactions_.get(a)){var b=p;this.selectedReactions_.remove(a)}else b=l,this.selectedReactions_.set(a,l);var c=s;Qc(this.selectedReactions_.getKeyIterator(),function(a){c=c+ba+this.encodeLabel_(a)+ca},this);this.sender_.send(Sa,xb,za,eb+this.entityId_+da+c+Ea+this.writeToken_);var d=this.options_[a];if(d){a=this.counts_[a];var e=parseInt(Mc(a),10);isNaN(e)&&(e=0);a.innerHTML=b?e+1:e-1;Gc(d,hb);Gc(d,mb)}}};wb("BLOG_Annotator",gd,k);gd.prototype.initialize=gd.prototype.initialize;wb("BLOG_listenOnce",sc,k); })()
